{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '44402631-bf7d189f653a3e22d2fd50e44';\nconst imageType = 'photo';\nconst imgOrientation = 'horizontal';\nconst safeSearch = 'true';\n\nfunction getImages(query) {\n    return fetch(`${BASE_URL}?key=${API_KEY}&q=${query}&image_type=${imageType}&orientation=${imgOrientation}&safesearch=${safeSearch}`).then((res) => res.json());\n};\n\nexport default { getImages };\n\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst refs = {\n    imageWrapper: document.querySelector('.js-imageWrapper'),\n    loadMore: document.querySelector('.loadMore'),\n};\n\nfunction createMarkup({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) {\n    return `<div class=\"img-card\">\n            <a href=\"${largeImageURL}\"><img src=\"${webformatURL}\" alt=\"${tags}\"></a> \n            <div class=\"text-wrapper\">\n            <p class=\"text\">Likes<span class=\"wrapper\">${likes}</span></p>\n            <p class=\"text\">Views<span class=\"wrapper\">${views}</span></p>\n            <p class=\"text\">Comments<span class=\"wrapper\">${comments}</span></p>\n            <p class=\"text\">Downloads<span class=\"wrapper\">${downloads}</span></p></div>\n            </div>`;\n};\n\nfunction updateImgList(markup) {\n    refs.imageWrapper.insertAdjacentHTML('beforeend', markup);\n    const lightbox = new SimpleLightbox('.img-card a');\n    lightbox.refresh();\n};\n\nfunction clearImageList() {\n    refs.imageWrapper.innerHTML = '';\n};\n\nfunction showLoad() {\n    refs.loadMore.textContent = '';\n    refs.loadMore.classList.remove('hidden');\n    refs.loadMore.classList.add('loader');\n   \n};\n\nfunction hideLoad() {\n    refs.loadMore.classList.add('hidden');\n    refs.loadMore.classList.remove('loader');\n};\n\nexport { createMarkup, updateImgList, clearImageList, showLoad, hideLoad };","import API from './js/pixabay-api.js';\nimport { createMarkup, updateImgList, clearImageList, showLoad, hideLoad } from './js/render-functions.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n\nconst refs = {\n    form: document.querySelector('.js-form')\n};\n\nrefs.form.addEventListener('submit', onSearch);\n\nfunction onSearch(event) {\n    event.preventDefault();\n  \n    const form = event.currentTarget;\n    const value = form.elements.image.value.trim();\n  \n    if (value === '') return iziToast.warning({\n        title: 'Caution',\n        message: 'You forgot important data',\n    });\n    \n    clearImageList();\n    showLoad();\n\n    API.getImages(value)\n        .then(({hits}) => {\n         if (hits.length === 0) {\n            iziToast.error({title: 'Error',\n            message:'Sorry, there are no images matching your search query. Please try again!'})\n         }\n         return hits.reduce((markup, image) => markup + createMarkup(image), '');\n        })\n        .then(updateImgList)\n        .catch(onError)\n        .finally(() => { \n         form.reset(); \n         hideLoad();\n        });\n};\n\nfunction onError() {\n   refs.imageWrapper.innerHTML = ''\n};\n"],"names":["BASE_URL","API_KEY","imageType","imgOrientation","safeSearch","getImages","query","res","API","refs","createMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","updateImgList","markup","SimpleLightbox","clearImageList","showLoad","hideLoad","onSearch","event","form","value","iziToast","hits","image","onError"],"mappings":"6vBAAA,MAAMA,EAAW,2BACXC,EAAU,qCACVC,EAAY,QACZC,EAAiB,aACjBC,EAAa,OAEnB,SAASC,EAAUC,EAAO,CACtB,OAAO,MAAM,GAAGN,CAAQ,QAAQC,CAAO,MAAMK,CAAK,eAAeJ,CAAS,gBAAgBC,CAAc,eAAeC,CAAU,EAAE,EAAE,KAAMG,GAAQA,EAAI,KAAI,CAAE,CACjK,CAEA,MAAeC,EAAA,CAAE,UAAAH,CAAW,ECPtBI,EAAO,CACT,aAAc,SAAS,cAAc,kBAAkB,EACvD,SAAU,SAAS,cAAc,WAAW,CAChD,EAEA,SAASC,EAAa,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAG,CAC1F,MAAO;AAAA,uBACYL,CAAa,eAAeD,CAAY,UAAUE,CAAI;AAAA;AAAA,yDAEpBC,CAAK;AAAA,yDACLC,CAAK;AAAA,4DACFC,CAAQ;AAAA,6DACPC,CAAS;AAAA,mBAEtE,CAEA,SAASC,EAAcC,EAAQ,CAC3BV,EAAK,aAAa,mBAAmB,YAAaU,CAAM,EACvC,IAAIC,EAAe,aAAa,EACxC,QAAO,CACpB,CAEA,SAASC,GAAiB,CACtBZ,EAAK,aAAa,UAAY,EAClC,CAEA,SAASa,GAAW,CAChBb,EAAK,SAAS,YAAc,GAC5BA,EAAK,SAAS,UAAU,OAAO,QAAQ,EACvCA,EAAK,SAAS,UAAU,IAAI,QAAQ,CAExC,CAEA,SAASc,GAAW,CAChBd,EAAK,SAAS,UAAU,IAAI,QAAQ,EACpCA,EAAK,SAAS,UAAU,OAAO,QAAQ,CAC3C,CCjCA,MAAMA,EAAO,CACT,KAAM,SAAS,cAAc,UAAU,CAC3C,EAEAA,EAAK,KAAK,iBAAiB,SAAUe,CAAQ,EAE7C,SAASA,EAASC,EAAO,CACrBA,EAAM,eAAc,EAEpB,MAAMC,EAAOD,EAAM,cACbE,EAAQD,EAAK,SAAS,MAAM,MAAM,OAExC,GAAIC,IAAU,GAAI,OAAOC,EAAS,QAAQ,CACtC,MAAO,UACP,QAAS,2BACjB,CAAK,EAEDP,IACAC,IAEAd,EAAI,UAAUmB,CAAK,EACd,KAAK,CAAC,CAAC,KAAAE,CAAI,KACPA,EAAK,SAAW,GACjBD,EAAS,MAAM,CAAC,MAAO,QACvB,QAAQ,0EAA0E,CAAC,EAE/EC,EAAK,OAAO,CAACV,EAAQW,IAAUX,EAAST,EAAaoB,CAAK,EAAG,EAAE,EACtE,EACA,KAAKZ,CAAa,EAClB,MAAMa,CAAO,EACb,QAAQ,IAAM,CACdL,EAAK,MAAK,EACVH,GACT,CAAS,CACT,CAEA,SAASQ,GAAU,CAChBtB,EAAK,aAAa,UAAY,EACjC"}